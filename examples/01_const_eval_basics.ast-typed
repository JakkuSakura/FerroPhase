fn main () -> (){
    const BUFFER_SIZE : i64 = 1024 * 4 ;
    const MAX_CONNECTIONS : i64 = 150 ;
    const FACTORIAL_5 : i64 = 5 * 4 * 3 * 2 * 1 ;
    const IS_LARGE : bool = BUFFER_SIZE > 2048 ;
    println ! ("Buffer: {}KB, factorial(5)={}, large={}" , BUFFER_SIZE / 1024 , FACTORIAL_5 , IS_LARGE) ;
    struct Config{
        pub buffer_size : i64 , pub max_connections : i64
    }
    const DEFAULT_CONFIG : Config = Config{
        buffer_size : BUFFER_SIZE , max_connections : MAX_CONNECTIONS
    };
    println ! ("Config: {}KB buffer, {} connections" , DEFAULT_CONFIG . buffer_size / 1024 , DEFAULT_CONFIG . max_connections) ;
    let runtime_multiplier = 3 ;
    let optimized_size = intrinsic_const_block (BUFFER_SIZE * 2) ;
    let cache_strategy = intrinsic_const_block (if BUFFER_SIZE > 2048{
        "large"
    }
    else "small") ;
    let total_memory = runtime_multiplier * intrinsic_const_block (BUFFER_SIZE * MAX_CONNECTIONS) ;
    println ! ("Const blocks: size={}, strategy={}, memory={}" , optimized_size , cache_strategy , total_memory) ;
}